(self.webpackChunklite=self.webpackChunklite||[]).push([[6616],{36579:(e,n,i)=>{"use strict";i.d(n,{D:()=>l});var t=i(87329),a=i(46732),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePostCardReaderButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_post"}}]}}].concat((0,t.Z)(a.JP.definitions))},l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePostCardOverflowButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ExpandablePostCardReaderButton_post"}}]}}].concat((0,t.Z)(o.definitions))}},78060:(e,n,i)=>{"use strict";i.d(n,{u:()=>te});var t=i(67294),a=i(22122),o=i(34699),l=i(96156),r=i(64718),d=i(14045),s=i(24415),m=i(75150),u=i(32947),c=i(70028),k=i(66021),p=i(70679),v=i(16880),f=i(49989),S=i(85965),N=i(31048),E=i(74302),b=i(6443),F=i(39507),C=i(18733),y=i(38352),g=i(96462),h=i(45509),I=i(51066),P=i(1383),w=i(73917),D=i(93310),T=i(87781),O=i(87691),x=i(14646),M=i(92661),Z=i(75221),V=i(43487),_=i(43303),R=i(68894),j=i(50458),U=i(87329),A=i(36736),K=i(91727),B=i(48172),L={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePostCardEditorWriterButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"responseDistribution"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsPinnedInContext_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CopyFriendLinkMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuItemUndoClaps_post"}}]}}].concat((0,U.Z)(A.x.definitions),(0,U.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"CopyFriendLinkMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]),(0,U.Z)(K.S.definitions),(0,U.Z)(B.g.definitions))},q={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExpandablePostCardEditorWriterButtonQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ExpandablePostCardEditorWriterButton_post"}}]}}]}}].concat((0,U.Z)(L.definitions))};function H(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function Q(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?H(Object(i),!0).forEach((function(n){(0,l.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):H(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var W=function(e){var n=(0,r.a)(q,{variables:{postId:e.post.id}}).data;if(null==n||!n.post)return null;var i=Q(Q({},e),{},{post:n.post});return t.createElement(J,i)},J=function(e){var n=e.post,i=e.publisherContext,l=e.isEditor,r=e.isWriter,U=e.creator,A=e.prependMenuItems,K=(0,x.I)(),B=(0,C.Uo)(),L=(0,V.v9)((function(e){return e.config.authDomain})),q=n.id,H=n.collection,Q=n.responseDistribution,W=n.visibility,J=n.mediumUrl,X=n.allowResponses,z=(0,b.H)().value,$=null==z?void 0:z.id,G=null==U?void 0:U.id,Y=(0,F.T)(n).viewerEdge,ee=H||{id:"",name:""},ne=ee.id,ie=ee.name,te=(0,R.O)(!1),ae=(0,o.Z)(te,3),oe=ae[0],le=ae[1],re=ae[2],de=(0,N.n_)(n,i),se=(0,o.Z)(de,2),me=se[0],ue=se[1],ce=t.useState(""),ke=(0,o.Z)(ce,2),pe=ke[0],ve=ke[1],fe=t.useCallback((function(){re(),ue().then((function(e){var n=e.errors;n&&n.length&&n[0].message?ve(n[0].message):window.location.reload()}))}),[re,ue,ve]),Se=(0,S.yb)(n),Ne=(0,R.O)(!1),Ee=(0,o.Z)(Ne,3),be=Ee[0],Fe=Ee[1],Ce=Ee[2],ye=t.useCallback((function(){Se(H).then((function(){return window.location.reload()}))}),[ne,Se]),ge=(0,c.j)(q),he=(0,o.Z)(ge,1)[0],Ie=(0,R.O)(!1),Pe=(0,o.Z)(Ie,3),we=Pe[0],De=Pe[1],Te=Pe[2],Oe=(0,M.qt)("ShowHome",{}),xe=t.useCallback((function(){he().then((function(){window.location.assign(Oe)}))}),[he,Oe]),Me=Q===Z.Et.DISTRIBUTED,Ze=(0,R.O)(!1),Ve=(0,o.Z)(Ze,3),_e=Ve[0],Re=Ve[1],je=Ve[2],Ue={buttonStyle:"ERROR",cancelText:"Cancel"},Ae="ExpandablePostCardEditorWriterMenu",Ke="Delete story".concat(Me?" and response":""),Be=Me?E.Q:t.createElement(d.M,null),Le="LOCKED"===W,qe="User"===i&&r||"Collection"===i&&l,He=function(){Me&&(re(),Re())};return t.createElement(t.Fragment,null,t.createElement(P.Q,(0,a.Z)({},Ue,{isVisible:be,onConfirm:ye,hide:Ce,titleText:"Remove story",confirmText:"Remove",isDestructiveAction:!0}),"Are you sure you want to remove this story from ",ie,"?"),t.createElement(P.Q,(0,a.Z)({},Ue,{isVisible:we,onConfirm:xe,hide:Te,titleText:Ke,confirmText:"Delete",isDestructiveAction:!0}),Be),t.createElement(P.Q,{buttonStyle:"STRONG",cancelText:"Cancel",isVisible:_e,onConfirm:function(){var e=(0,j.d0)(L,q);window.location.replace(e)},hide:je,titleText:"Edit story and response",confirmText:"Continue",isDestructiveAction:!1},E.t),t.createElement(w.J,{ariaId:Ae,hide:re,isVisible:oe,popoverRenderFn:function(){return t.createElement(y.mX,null,A&&t.createElement(t.Fragment,null,A(re)),t.createElement(u.l,{type:"popover",handleClick:He,href:(0,j.d0)(L,q)},"Edit story"),(l||r&&"User"===i)&&t.createElement(y.Sl,null,t.createElement(D.r,{onClick:fe},me?"Unpin":"Pin"," story")),t.createElement(p.w,{post:n,onClick:re,menuStyle:"TEXT"}),t.createElement(y.oK,null),t.createElement(y.Sl,null,t.createElement(D.r,{href:(0,j.KI)(L,q)},"Story settings")),t.createElement(y.Sl,null,t.createElement(D.r,{href:(0,j.T0)(L,q)},"Story stats")),Le&&J&&(null==Y?void 0:Y.shareKey)&&t.createElement(v.$,{post:n,shareKey:null==Y?void 0:Y.shareKey}),t.createElement(y.oK,null),qe?t.createElement(f.r,{hidePopover:re,postId:n.id,allowResponses:X}):null,ne&&t.createElement(y.Sl,null,t.createElement(D.r,{onClick:Fe},"Remove story from publication")),r&&t.createElement(y.Sl,null,t.createElement("div",{className:K({color:B.baseTheme.colorTokens.foreground.error.primary.base})},t.createElement(D.r,{onClick:(0,_.B)(re,De)},"Delete story"))),l&&!r&&t.createElement(t.Fragment,null,t.createElement(y.oK,null),t.createElement(m.T,{post:n,hidePopover:re}),t.createElement(I.z,{targetUserId:G,postId:n.id,hidePopover:re,viewerId:$}),t.createElement(k.q,{hidePopover:re,creator:U}),t.createElement(g.F,{hidePopover:re,creator:U,viewer:z}),t.createElement(h.j,{hidePopover:re,creator:U,viewer:z})))}},t.createElement(s.c,{ariaControls:Ae,ariaExpanded:oe?"true":"false",ariaLabel:"More options",onClick:le,tooltipText:"More"})),t.createElement(T.F,{isVisible:!!pe,hide:function(){return ve("")},duration:5e3},t.createElement(O.F,{scale:"M"},pe)))},X=i(86706),z=i(59250),$=i(13195),G=i(25550),Y=i(83486),ee=i(51681),ne=function(e){var n=e.post,i=e.viewer,a=e.prependMenuItems,l=n.creator,r=null==l?void 0:l.id,d=(0,R.O)(!1),m=(0,o.Z)(d,3),u=m[0],c=m[1],p=m[2],v="expandablePostCardReaderMenu",f=(0,G.r)().viewerId,S=(0,F.T)(n).viewerEdge,N=(0,z.jM)(),E=N.mutedAuthorIds,b=N.setMutedAuthorIds,C=N.mutedPubIds,P=N.setMutedPubIds,T=N.isMutingFromHomeFeed,O=t.useCallback((function(e){b([].concat((0,U.Z)(E),[e]))}),[E]),x=t.useCallback((function(e){P([].concat((0,U.Z)(C),[e]))}),[C]),M=(0,X.I0)(),Z=t.useCallback((function(e){return M((0,Y.at)(e))}),[M]),_=(0,V.b$)((function(e){return e.multiVote.clapsPerPost})),j=(0,ee.l)(_,n,S),A=j.clapCount,K=j.viewerClapCount,B=(0,$.C)();if(!r)return null;var L=f&&A&&K&&K>0;return t.createElement(w.J,{ariaId:v,hide:p,isVisible:u,popoverRenderFn:function(){return t.createElement(y.mX,null,a&&t.createElement(t.Fragment,null,a(p)),!!L&&t.createElement(y.Sl,null,t.createElement(D.r,{onClick:function(){return B(n,(null==i?void 0:i.id)||"",-K,S),Z({postId:n.id,clapCount:A-K,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),void p()}},"Undo applause for this post")),t.createElement(I.z,{targetUserId:r,postId:n.id,hidePopover:p,viewerId:f}),t.createElement(k.q,{hidePopover:p,creator:l,setMutedAuthorId:O,setMutedPubId:x,isMutingFromHomeFeed:T}),t.createElement(g.F,{hidePopover:p,creator:l,viewer:i}),t.createElement(h.j,{hidePopover:p,creator:l,viewer:i}))}},t.createElement(s.c,{ariaControls:v,ariaExpanded:u?"true":"false",ariaLabel:"More options",onClick:c,tooltipText:"More"}))},ie=i(39727),te=function(e){var n=e.post,i=e.publisherContext,a=e.prependMenuItems,o=(0,b.H)().value,l=(0,ie.g)(n.collection).viewerEdge,r=!(null==l||!l.isEditor),d=n.creator,s=(null==o?void 0:o.id)===(null==d?void 0:d.id);return o?r||s?t.createElement(W,{post:n,isEditor:r,isWriter:s,publisherContext:i,creator:d,prependMenuItems:a}):t.createElement(ne,{post:n,viewer:o,prependMenuItems:a}):null}},48342:(e,n,i)=>{"use strict";i.d(n,{K:()=>r});var t=i(67294),a=i(14646),o=i(21372),l=function(e){return{color:e.colorTokens.foreground.neutral.secondary.base}},r=function(e){var n=e.readingTime,i=e.isLighterText,r=void 0!==i&&i,d=(0,a.I)();if(!n)return null;var s="".concat((0,o.Vd)(n)," min read");return t.createElement("span",{className:r?d(l):void 0},s)}},10654:(e,n,i)=>{"use strict";i.d(n,{x:()=>l,A:()=>r});var t=i(87329),a=i(98007),o=i(1877),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MultiVote_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_user"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVoteCount_post"}}]}}].concat((0,t.Z)(a.Vm.definitions),(0,t.Z)(a.qU.definitions),(0,t.Z)(o.U.definitions))},r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClapCountQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}}]}}]}}]}}]}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/6616.70b0722d.chunk.js.map