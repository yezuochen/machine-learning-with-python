(self.webpackChunklite=self.webpackChunklite||[]).push([[8084],{59250:(e,n,i)=>{"use strict";i.d(n,{MA:()=>s,Zh:()=>c,jM:()=>k});var t=i(87329),a=i(34699),l=i(67294),o=i(28959),d={mutedAuthorIds:[],setMutedAuthorIds:function(){},mutedPubIds:[],setMutedPubIds:function(){},dismissedPostIds:[],setDismissedPostIds:function(){},isMutingFromHomeFeed:!0,seeLessPostIds:[],setSeeLessPostIds:function(){}},s=function(e,n,i,t,a){return e.filter((function(e){var l,o,d=null==e?void 0:e.post;return!!d&&!(n.includes(null===(l=d.creator)||void 0===l?void 0:l.id)||i.includes(null===(o=d.collection)||void 0===o?void 0:o.id)||t.includes(d.id)||a.includes(d.id))}))},r=new o.Z("post-muted"),u="seeLessPostIds",m=(0,l.createContext)(d),c=function(e){var n=e.children,i=(0,l.useState)(d.mutedAuthorIds),o=(0,a.Z)(i,2),s=o[0],c=o[1],k=(0,l.useState)(d.mutedPubIds),v=(0,a.Z)(k,2),p=v[0],N=v[1],y=(0,l.useState)(d.dismissedPostIds),b=(0,a.Z)(y,2),f=b[0],S=b[1],g=(0,l.useState)(d.seeLessPostIds),P=(0,a.Z)(g,2),I=P[0],h=P[1],F=d.isMutingFromHomeFeed,C=(0,l.useState)((function(){var e;return null!==(e=r.get(u))&&void 0!==e?e:[]})),D=(0,a.Z)(C,1)[0];(0,l.useEffect)((function(){I.length&&r.set(u,I)}),[I]);var A=(0,l.useMemo)((function(){return[].concat((0,t.Z)(D),(0,t.Z)(I))}),[D,I]);return l.createElement(m.Provider,{value:{mutedAuthorIds:s,setMutedAuthorIds:c,mutedPubIds:p,setMutedPubIds:N,dismissedPostIds:f,setDismissedPostIds:S,isMutingFromHomeFeed:F,seeLessPostIds:A,setSeeLessPostIds:h}},n)},k=function(){return(0,l.useContext)(m)}},14045:(e,n,i)=>{"use strict";i.d(n,{M:()=>d});var t=i(67294),a=i(77355),l=i(93310),o=i(50458);function d(e){var n=e.entityName,i=void 0===n?"story":n;return t.createElement(a.x,{textAlign:"center"},"Deletion is not reversible, and the story will be completely deleted. If you do not want to delete, you can"," ",t.createElement(l.r,{target:"_blank",href:o.aH,inline:!0,linkStyle:"OBVIOUS"},"unlist the ",i),".")}},24415:(e,n,i)=>{"use strict";i.d(n,{c:()=>r});var t=i(22122),a=i(81253),l=i(67294),o=i(38356),d=i(42130),s=["isResponsive"],r=function(e){var n=e.isResponsive,i=(0,a.Z)(e,s);return l.createElement(o.u,(0,t.Z)({text:n?"More":void 0,icon:l.createElement(d.Z,null)},i))}},48172:(e,n,i)=>{"use strict";i.d(n,{g:()=>l});var t=i(87329),a=i(46732),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverflowMenuItemUndoClaps_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_post"}}]}}].concat((0,t.Z)(a.JP.definitions))}},75150:(e,n,i)=>{"use strict";i.d(n,{T:()=>k});var t=i(67294),a=i(86706),l=i(13195),o=i(6443),d=i(39507),s=i(38352),r=i(93310),u=i(83486),m=i(43487),c=i(51681),k=function(e){var n=e.post,i=e.hidePopover,k=(0,o.H)().value,v=null==k?void 0:k.id,p=(0,d.T)(n).viewerEdge,N=(0,a.I0)(),y=t.useCallback((function(e){return N((0,u.at)(e))}),[N]),b=(0,m.b$)((function(e){return e.multiVote.clapsPerPost})),f=(0,c.l)(b,n,p),S=f.clapCount,g=f.viewerClapCount,P=(0,l.C)();return v&&S&&g&&g>0?t.createElement(s.Sl,null,t.createElement(r.r,{onClick:function(){P(n,(null==k?void 0:k.id)||"",-g,p),y({postId:n.id,clapCount:S-g,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),i()}},"Undo applause for this post")):null}},47006:(e,n,i)=>{"use strict";i.d(n,{H:()=>t});var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UserReportStoryMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetAuthorId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"alsoBlockAuthor"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reason"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reportStoryAndMaybeBlockAuthor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}}},{kind:"Argument",name:{kind:"Name",value:"targetAuthorId"},value:{kind:"Variable",name:{kind:"Name",value:"targetAuthorId"}}},{kind:"Argument",name:{kind:"Name",value:"alsoBlockAuthor"},value:{kind:"Variable",name:{kind:"Name",value:"alsoBlockAuthor"}}},{kind:"Argument",name:{kind:"Name",value:"reason"},value:{kind:"Variable",name:{kind:"Name",value:"reason"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isBlocking"}}]}}]}}]}}]}},91727:(e,n,i)=>{"use strict";i.d(n,{S:()=>t,P:()=>a});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"subscribersCount"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isAuthorNewsletter"}}]}}]},a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendPostAsEmailsMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendPostAsEmails"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]}},70679:(e,n,i)=>{"use strict";i.d(n,{w:()=>h});var t=i(96156),a=i(34699),l=i(21919),o=i(67294),d=i(25267),s=i(38352),r=i(93310),u=i(77355),m=i(1383),c=i(87691),k=i(14646),v=i(78285);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e},p.apply(this,arguments)}var N=o.createElement("path",{d:"M0 .35v15.3h20V.35H0zm6.95 9.38l3.05 2.5 3.05-2.5 4.88 4.73H2.07l4.88-4.73zM1.2 13.64V5.02l4.82 3.94-4.82 4.68zm12.78-4.68l4.82-3.94v8.62l-4.82-4.68zm4.82-7.42v1.94l-8.8 7.2-8.8-7.2V1.54h17.6z"});const y=function(e){return o.createElement("svg",p({width:20,height:16,viewBox:"0 0 20 16"},e),N)};var b=i(68894),f=i(91727);function S(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function g(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?S(Object(i),!0).forEach((function(n){(0,t.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function P(e){return{fill:e.colorTokens.foreground.neutral.secondary.base}}var I={height:"16px",width:"16px",marginLeft:"4px"};function h(e){var n=e.post,i=e.onClick,t=e.menuStyle,p=(0,k.I)(),N=(0,b.O)(!1),S=(0,a.Z)(N,3),h=S[0],F=S[1],C=S[2],D=(0,v.w)(),A=function(){C(),i()},V=(0,l.D)(f.P,{variables:{postId:(null==n?void 0:n.id)||""},onCompleted:function(e){var n=e.sendPostAsEmails;D(n?{message:"Your story has been emailed to subscribers.",toastStyle:"MESSAGE",duration:2e3}:{message:"We couldn't process your request. Try again, or contact our support team.",toastStyle:"ERROR",duration:2e3})},update:function(e,i){var t={id:"Post:".concat(null==n?void 0:n.id),fragment:f.S,fragmentName:"NewsletterV3EmailToSubscribersMenuItem_post"},a=e.readFragment(t);i.data&&a&&e.writeFragment(g(g({},t),{},{data:g(g({},a),{},{isAuthorNewsletter:i.data.sendPostAsEmails})}))}}),w=(0,a.Z)(V,1)[0];return o.createElement(d.I,null,(function(e){var a,l,d;return e&&e.id===(null==n||null===(a=n.creator)||void 0===a?void 0:a.id)&&(null==n||!n.isNewsletter)&&((null==n||null===(l=n.creator)||void 0===l||null===(d=l.newsletterV3)||void 0===d?void 0:d.subscribersCount)||0)>0?o.createElement(o.Fragment,null,o.createElement(s.Sl,{paddingTopBottom:"8px"},o.createElement(r.r,{onClick:function(){null!=n&&n.isAuthorNewsletter?(D({message:"You’ve already sent this story to subscribers.",toastStyle:"ERROR",duration:2e3}),i()):F()}},"TEXT"===t?o.createElement(u.x,{display:"inline-block"},o.createElement(c.F,{scale:"M"},"Email to subscribers")):o.createElement(u.x,{display:"inline-block"},o.createElement(y,{className:p([P,I])}),o.createElement(u.x,{display:"inline-block",marginLeft:"20px"},o.createElement(c.F,{scale:"S"},"Email to subscribers"))))),o.createElement(m.Q,{onConfirm:function(){w(),A()},isVisible:h,hide:A,titleText:"Email to subscribers",confirmText:"Send",buttonStyle:"STRONG",buttonSize:"LARGE",showCancelButton:!0,withCloseButton:!0,isDestructiveAction:!1},"A link to this story will be emailed to all your subscribers.")):o.createElement(o.Fragment,null)}))}},16880:(e,n,i)=>{"use strict";i.d(n,{$:()=>m});var t=i(67294),a=i(38352),l=i(77355),o=i(93310),d=i(87691),s=i(14646),r=i(50458),u={cursor:"not-allowed",marginBottom:"8px",opacity:.5},m=function(e){var n=e.post,i=e.shareKey,m=(0,s.I)();return n&&i?t.createElement(a.Sl,null,t.createElement(l.x,{width:"174px"},t.createElement("div",{className:m(u)},"Copy Friend Link"),t.createElement(d.F,{scale:"S",color:"LIGHTER"},'Friend links have moved to the "Share" menu.  ',t.createElement(o.r,{linkStyle:"OBVIOUS",inline:!0,href:(0,r.wA)()},"Learn more")))):null}},49989:(e,n,i)=>{"use strict";i.d(n,{r:()=>p});var t=i(34699),a=i(67294),l=i(32493),o=i(86706),d=i(78285),s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PostAllowResponsesMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowResponses"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setPostAllowResponses"},arguments:[{kind:"Argument",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}}},{kind:"Argument",name:{kind:"Name",value:"allowResponses"},value:{kind:"Variable",name:{kind:"Name",value:"allowResponses"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}}]}}]}}]},r=(0,o.$j)()((function(e){var n=e.children,i=e.dispatch,t=e.onCompleted,o=e.targetPostId;return a.createElement(l.m,{mutation:s,onCompleted:function(){i((0,d.Dx)({message:"Responses are now hidden for this post."})),t&&t()},variables:{targetPostId:o,allowResponses:!1},optimisticResponse:{__typename:"Mutation",setPostAllowResponses:{__typename:"Post",id:o,allowResponses:!1}}},(function(e){return n({mutate:e})}))})),u=(0,o.$j)()((function(e){var n=e.children,i=e.dispatch,t=e.onCompleted,o=e.targetPostId;return a.createElement(l.m,{mutation:s,onCompleted:function(){i((0,d.Dx)({message:"Responses are now shown for this post."})),t&&t()},variables:{targetPostId:o,allowResponses:!0},optimisticResponse:{__typename:"Mutation",setPostAllowResponses:{__typename:"Post",id:o,allowResponses:!0}}},(function(e){return n({mutate:e})}))})),m=i(75675),c=i(38352),k=i(93310),v=i(68894),p=function(e){var n=e.hidePopover,i=e.postId,l=e.allowResponses,o=(0,v.O)(!1),d=(0,t.Z)(o,3),s=d[0],p=d[1],N=d[2],y=function(){N(),n()};return a.createElement(a.Fragment,null,a.createElement(r,{targetPostId:i},(function(e){var n=e.mutate;return a.createElement(m.w,{onConfirm:n,isVisible:s,hide:y,entityTypename:"Post"})})),a.createElement(u,{targetPostId:i},(function(e){var n=e.mutate;return a.createElement(c.Sl,null,a.createElement(k.r,{onClick:function(){l?p():n()}},l?"Hide responses":"Show responses"))})))}},85965:(e,n,i)=>{"use strict";i.d(n,{h3:()=>c,yb:()=>k,Lf:()=>m});var t=i(34699),a=i(21919),l=i(67294),o=i(75221),d=i(87329),s=[{kind:"FragmentDefinition",name:{kind:"Name",value:"ManageCollectionPostStatus_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}],r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ManageCollectionPostStatusMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CollectionPostStatus"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"manageCollectionPostStatus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"Argument",name:{kind:"Name",value:"collectionSlug"},value:{kind:"Variable",name:{kind:"Name",value:"collectionSlug"}}},{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"statusForCollection"}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ManageCollectionPostStatus_collection"}}]}}]}}]}}].concat((0,d.Z)(s))},u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RejectPostFromPubMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CollectionPostStatus"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"manageCollectionPostStatus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"Argument",name:{kind:"Name",value:"collectionSlug"},value:{kind:"Variable",name:{kind:"Name",value:"collectionSlug"}}},{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"statusForCollection"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ManageCollectionPostStatus_collection"}}]}}]}}]}}].concat((0,d.Z)(s))},m=function(e){var n=(0,a.D)(r),i=(0,t.Z)(n,1)[0];return(0,l.useCallback)((function(n){return i({variables:{collectionSlug:(null==n?void 0:n.slug)||"",postId:e.id,status:o.Zj.PENDING},optimisticResponse:{manageCollectionPostStatus:{__typename:"Post",id:e.id,statusForCollection:o.Zj.PENDING,pendingCollection:n}}})}),[e])},c=function(e){var n=(0,a.D)(r),i=(0,t.Z)(n,1)[0];return(0,l.useCallback)((function(n){return i({variables:{collectionSlug:(null==n?void 0:n.slug)||"",postId:e.id,status:o.Zj.APPROVED}})}),[e])},k=function(e){var n=(0,a.D)(u),i=(0,t.Z)(n,1)[0];return(0,l.useCallback)((function(n){return i({variables:{collectionSlug:(null==n?void 0:n.slug)||"",postId:e.id,status:o.Zj.REMOVED},optimisticResponse:{manageCollectionPostStatus:{__typename:"Post",id:e.id,statusForCollection:null,collection:null,pendingCollection:null}}}).then((function(e){if(e.errors&&e.errors[0])throw e.errors[0];return e}))}),[e])}},36736:(e,n,i)=>{"use strict";i.d(n,{x:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useIsPinnedInContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedByCreatorAt"}}]}}]}},31048:(e,n,i)=>{"use strict";i.d(n,{n_:()=>u,KQ:()=>s,In:()=>r});var t=i(34699),a=i(21919),l=i(67294),o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetPinnedAtMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pinnedAt"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"setPinnedAt"},arguments:[{kind:"Argument",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"Argument",name:{kind:"Name",value:"targetCollectionId"},value:{kind:"Variable",name:{kind:"Name",value:"collectionId"}}},{kind:"Argument",name:{kind:"Name",value:"pinnedAt"},value:{kind:"Variable",name:{kind:"Name",value:"pinnedAt"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}}]}}]}}]}}]},d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PostSetPinnedByCreatorAtMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isPinned"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setPostPinnedOnCreatorProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"ObjectField",name:{kind:"Name",value:"isPinned"},value:{kind:"Variable",name:{kind:"Name",value:"isPinned"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]},s=function(e){var n=e.id,i=e.collection,d=e.pendingCollection,s=e.pinnedAt,r=(i||d||{id:""}).id,u=(0,a.D)(o,{optimisticResponse:{__typename:"Mutation",setPinnedAt:{__typename:"Post",id:n,collection:i,pendingCollection:d,pinnedAt:s?0:Date.now()}}}),m=(0,t.Z)(u,1)[0],c=l.useCallback((function(){return m({variables:{postId:n,collectionId:r,pinnedAt:!s}})}),[n,r,s,m]);return[s,c]},r=function(e){var n=e.id,i=e.pinnedByCreatorAt,o=(0,a.D)(d,{optimisticResponse:{setPostPinnedOnCreatorProfile:{__typename:"MutationSuccess"}},update:function(e,t){var a;"MutationSuccess"===(null===(a=t.data)||void 0===a?void 0:a.setPostPinnedOnCreatorProfile.__typename)&&e.modify({id:"Post:".concat(n),fields:{pinnedByCreatorAt:function(){return i?0:Date.now()}}})}}),s=(0,t.Z)(o,1)[0],r=l.useCallback((function(){return s({variables:{postId:n,isPinned:!i}})}),[n,s,i]);return[i,r]},u=function(e,n){var i=s(e),a=(0,t.Z)(i,2),o=a[0],d=a[1],u=r(e),m=(0,t.Z)(u,2),c=m[0],k=m[1],v=l.useCallback((function(){return"Collection"===n?d():k()}),[n,d,k]);return["Collection"===n?o:c,v]}},74302:(e,n,i)=>{"use strict";i.d(n,{Q:()=>t,t:()=>a});var t="This story is also a response to another story. Are you sure you want to delete this story?",a="This story is also a response to another story. Any edits are applied to both."},51066:(e,n,i)=>{"use strict";i.d(n,{z:()=>N});var t=i(34699),a=i(67294),l=i(32493),o=i(86706),d=i(18627),s=i(78285),r=i(47006),u=(0,o.$j)()((function(e){var n=e.targetAuthorId,i=e.targetPostId,t=e.dispatch,o=e.children,u=e.onOptimisticComplete,m=e.isBlocking,c=e.viewerId,k=(0,d.A)();return a.createElement(l.m,{mutation:r.H,onCompleted:function(){t((0,s.Dx)({message:"Successfully reported post."}))}},(function(e){return o({mutate:function(t,a){var l=e({variables:{targetAuthorId:n,targetPostId:i,alsoBlockAuthor:t,reason:a},onCompleted:function(){k.event("post.flagged",{postId:i,reason:a})},optimisticResponse:{__typename:"Mutation",reportStoryAndMaybeBlockAuthor:{__typename:"User",id:n,viewerEdge:{__typename:"UserViewerEdge",id:"userId:".concat(n,"-viewerId:").concat(c),isBlocking:m||t}}}});return u&&u(),l}})}))})),m=i(61095),c=i(38352),k=i(50474),v=i(93310),p=i(68894),N=function(e){var n=e.hidePopover,i=e.targetUserId,l=e.postId,o=e.viewerId,d=e.shouldShowShortenedCopy,s=void 0!==d&&d,r=(0,m.Pd)({id:i}).viewerEdge,N=!(null==r||!r.isBlocking),y=(0,p.O)(!1),b=(0,t.Z)(y,3),f=b[0],S=b[1],g=b[2],P=function(){g(),n()};return a.createElement(a.Fragment,null,a.createElement(u,{targetAuthorId:i,targetPostId:l,isBlocking:N,onOptimisticComplete:P,viewerId:o},(function(e){var n=e.mutate;return a.createElement(k.U,{onSubmit:n,isVisible:f,hide:P,type:"story",alreadyBlocking:N})})),a.createElement(c.Sl,null,a.createElement(v.r,{onClick:function(){S()}},s?"Report":"Report this story")))}},43303:(e,n,i)=>{"use strict";i.d(n,{B:()=>t});var t=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(){for(var e=0,i=n;e<i.length;e++)(0,i[e])()}}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/8084.783c2e36.chunk.js.map